The adventurecrafter shortcut-file requires a data shortcut-file, which I'm not making public for
copyright reasons.

If you have the Adventure Crafter pdf, then you can email me (nethermonkey@gmail.com) with
proof-of-purchase.  A screenshot of it in your drivethrough.com library, for example. I will reply
with the shortcut-file as an attachment.

Alternately, you can recreate the shortcut-file yourself with some effort.

The remainder of this document is an explanation on how to make the shortcut-file from the pdf.

I know it looks like a lot!  Each step is quick, though.  It's probably around 30 minutes of work.

***

The first step is to create the note containing shortcut-file.  Below is the shortcut-file,
but with missing data replaced by ellipses (...).  I've left just enough data to illustrate
the needed format.

So, copy the following content into a note. I suggest calling it "tejs_adventurecrafter_data",
though it's ultimately up to you.  The remaining steps will fill it with table data from the pdf.

~~
```
^tejs setup$
```
~~
```js
window._tejs ||= {};
window._tejs.adventurecrafter ||= {};
window._tejs.adventurecrafter.themes = [ "ACTION", "TENSION", "MYSTERY", "SOCIAL", "PERSONAL" ];

window._tejs.adventurecrafter.character_identities = [
["Roll for two Identities",33,true],["Warrior",34],...,["Exotic",100]
];

window._tejs.adventurecrafter.character_descriptors = [
["Roll for two Descriptors",21,true],["Ugly",22],...,["Heroic",100]
];

window._tejs.adventurecrafter.character_specialTraits = [
	[ "THE CHARACTER IS AN INDIVIDUAL", 50, "The Character is an individual, as opposed to an organization or object." ],
	...
	[ "THE CHARACTER IS CONNECTED TO AN EXISTING CHARACTER", 100, "This Character has some relationship to another, existing Character in this Adventure. Roll on the Characters List to see who. A result of New Character is changed to Choose The Most Logical Character. The connection can be anything, from the two Characters are related, they know each other, they were former friends, they both work in the same occupation or belong to the same organization, they look or act similarly, they have similar skills or equipment, etc. The connection can be as close or as distant as you like." ]
];

window._tejs.adventurecrafter.plot_meta = [
	[ "CHARACTER EXITS THE ADVENTURE", 18, "A Character, who is not a Player Character, is removed from the Characters List completely. Cross out all references to that Character on the Characters List. If there are no non- Player Characters, then re-roll for another Meta Plot Point. This change can be reflected in the activity in this Turning Point or not. For instance, you may explain the Character being removed from the Adventure by having that Character die in the Turning Point. Or, you simply remove them from the Characters List and decide that their involvement in the Adventure is over. If, when rolling on the Characters List to determine who this Character is, you roll a Player Character or \"New Character\", then consider it a result of \"Choose The Most Logical Character\"." ],
	...
	[ "PLOTLINE COMBO", 100, "This Turning Point is about more than one Plotline at the same time. Roll again on the Plotlines List and add that Plotline to this Turning Point along with the original Plotline rolled. If when rolling for an additional Plotline you roll the same Plotline already in use for this Turning Point, then treat the result as a \"Choose The Most Logical Plotline\". If there are no other Plotlines to choose from, then create a new Plotline as the additional Plotline. If a Conclusion is rolled as a Plot Point during this Turning Point, apply it to the Plotline that seems most appropriate. If another Conclusion is rolled, continue to apply them to the additional Plotlines in this Turning Point if you can. It is possible with repeated results of \"Plotline Combo\" to have more than two Plotlines combined in this way." ],
];

window._tejs.adventurecrafter.plot = [
	[ "CONCLUSION", 8,8,8,8,8, "If this Turning Point is currently a Plotline Development, then it becomes a Plotline Conclusion. Incorporate anything necessary into this Turning Point to end this Plotline and remove it from the Plotlines List. If this Turning Point is a New Plotline or already a Conclusion, then consider this Plot Point a None." ],
	[ "NONE", 24,24,24,24,24, "Leave this Plot Point blank and go on to the next Plot Point, unless it would leave you with fewer than 2 Plot Points in this Turning Point, in which case re-roll.", 1 ],
	[ "INTO THE UNKNOWN", 0,26,26,0,0, "This Turning Point involves Characters entering a situation with unknown factors. To know the unknown, you have to commit to it. For instance, a magic portal where there is no way of knowing what’s on the other side except by walking through it. Or, you discover a machine that is very powerful but you have no idea what it does, except if you turn it on. The only way to discover the unknown is to engage it, when it will be too late if you regret it." ],
	...
	[ "AN OPPOSING STORY", 0,0,95,0,0, "A Character learns of an alternate version of something they already know about from this Adventure. For instance, while investigating a starship that had been waylaid by aliens, Characters discover a crewmember who claims the attackers were members of a rival guild and not aliens." ],
	[ "META", 100,100,100,100,100, "This is a special Plot Point category with Plot Points that change the Characters List or combine Plotlines. Go to the Meta Plot Points Table and roll 1d100 on it for your Plot Point.", 2 ]
];
```
~~

~~
^tejs shutdown$
~~
```js
delete window._tejs.adventurecrafter?.themes;
delete window._tejs.adventurecrafter?.character_identities;
delete window._tejs.adventurecrafter?.character_descriptors;
delete window._tejs.adventurecrafter?.character_specialTraits;
delete window._tejs.adventurecrafter?.plot_meta;
delete window._tejs.adventurecrafter?.plot;
```
~~

***

Once you have the above content in a note in Obsidian, we want to fill it with data from the pdf.
The way to do this is to copy each table from the pdf, then use a regex editor, such as
https://regex101.com, to modify the text until it matches the needed format.  In some cases the
data will need to be reordered.  This can be done with a spreadsheet application, such as Google-
sheets.

Below I go over each table and explain, step-by-step, what to do.

***

///////////////////////////////////
// CHARACTER SPECIAL TRAIT TABLE //
///////////////////////////////////
Copy the full table contents (but not the headings) into a regex app with substitution
capabilities.  I'm using https://regex101.com.  Copy the contents into the "test string".  The
regex replace app needs to be in "substitution" mode.  With regex101, this is on the left side,
beneath the heading "FUNCTION".
Once the table contents are entered as a "test string", you'll enter a regex and substitution
script pair to modify the content.  Once the content is modified, you'll copy the result string
back into the input test string so it's ready for another transformation.  You'll keep
transforming the data through regex/substitution pairs until it's in the needed format.
Here are the required trasnsformations.

1. Add "^" before and after each range.  Only use the last number of the range.
REGEX:
[0-9]+-([0-9]+)
SUBSTITUTION:
^$1^

2. Remove all newlines (replacing each with a space).
note: This substitution is a single space.  I've displayed it as an underscore here for visibility.
REGEX:
\n
SUBSTITUTION:
_

3. Manually add a single space to the end of the content.  This lets the next regex work right.

4. Replace all instances of "^ ", with a newline.  This adds a newline between each table entry.
note: This regex has a space character, which I've displayed as an underscore for visibility.
REGEX:
\^_
SUBSTITUTION:
\n

5. Reformat each table entry into the proper format.
REGEX:
(.+): (.+) \^(.+)
SUBSTITUTION:
\t[ "$1", $3, "$2" ],

6. Manually remove the final comma character.

The data is in its final form now.  Copy it into the note, between the line...
	window._tejs.adventurecrafter.character_specialTraits = [
and the following line...
	];

***

//////////////////////////////////////////////////
// CHARACTER IDENTITIES AND DESCRIPTIONS TABLES //
//////////////////////////////////////////////////
Character identities and descriptions are two separate tables, but the process is the same for
both, so follow these instructions for each of them in turn.
First copy the full table contents (but not the headings) into the regex app of your choice.  I've
covered this in detail in the "CHARACTER SPECIAL TRAIT TABLE" introduction, so read that first.
Then, run through the following transformations.

1. Remove all newlines (replacing each with a space)
note: This substitution is a single space.  I've written it as an underscore here for visibility.
REGEX:
\n
SUBSTITUTION:
_

2. Manually change the "1-33" (or "1-21") in the first entry to just "33" (or "21").  If the final
entry is a pair (99-100), replace it with just 100.

3. Add "\n^" before each roll value.
REGEX:
([0-9]+)
SUBSTITUTION:
\n^$1

4. Ok, now for a complex transformation.  We need to order the entries.
    1. Copy the content into a spreadsheet app.  The content should be in a single column.  
    2. Select the entire column (by clicking on the column's heading).
    3. Click the menu "Data" then "Sort".  In the popup, just click "Ok".
    4. This will produce a version of the list that is sorted.
    5. It's possible that the "100" item is on the wrong end of the list.  Manually move it to the
       right position.
    6. Copy the sorted column back into the regex editor app.

5. Remove all newlines (replace with nothing: no spaces).
note: This substitution is an empty string: no characters.
REGEX:
\n
SUBSTITUTION:

6. Reformat each entry.
REGEX:
\^([0-9]+) ([^\^]+)
SUBSTITUTION:
["$2",$1],

7. Remove the extra space before each ending quote.
note: This regex starts with a space, written here as an underscore for visibility.
REGEX:
_",
SUBSTITUTION:
",

8. Manually add an extra "true" to the end of the first entry.  So, change this...
["Roll for two Identities",33]
Into this...
["Roll for two Identities",33,true]

9. Manually remove the final comma character.

The data is in its final form now.

If it is the character identities table, copy it into the note, between the line...
	window._tejs.adventurecrafter.character_identities = [
and the following line...
	];

If it is the character descriptors table, copy it into the note, between the line...
	window._tejs.adventurecrafter.character_descriptors = [
and the following line...
	];

***

////////////////////////////
// META PLOT POINTS TABLE //
////////////////////////////
For this table and for the "plot points" table we will be relying on the full table, not the
reduced table.  This means it includes the (often lengthy) description given for each item.
First copy the full table contents (but not the headings) into the regex app of your choice.  I've
covered this in detail in the "CHARACTER SPECIAL TRAIT TABLE" introduction, so read that first.
Then, run through the following transformations.

1. Surround the roll range with "^", removing the first number of each range.
REGEX:
[0-9]+\-([0-9]+)
SUBSTITUTION:
^$1^

2. Remove all newlines (replacing each with a space)
note: This substitution is a single space.  I've written it as an underscore here for visibility.
REGEX:
\n
SUBSTITUTION:
_

3. Manually add a single space to the end of the content.  This lets the next regex work right.

4. Put each entry into the proper format.
note: There are many spaces in this regex and substitution.  I've written the regex's final space
as an underscore for visibility.  The other spaces are easy to see, so I didn't change them.
REGEX:
([^\^]+): ([^\^]*) \^([^\^]*)\^_
SUBSTITUTION:
\t[ "$1", $3, "$2" ],\n

5. Replace each fancy quote with simple escaped quotes.
REGEX:
(?:“|”)
SUBSTITUTION:
\\"

6. Manually remove the final comma character.

The data is in its final form now.  Copy it into the note, between the line...
	window._tejs.adventurecrafter.plot_meta = [
and the following line...
	];

***

///////////////////////
// PLOT POINTS TABLE //
///////////////////////
For this table and for the "plot points" table we will be relying on the full table, not the
reduced table.  This means it includes the (often lengthy) description given for each item.
This is the big one.  It spans many pages.  You need to copy each page's table-contents (not
the headings) into the regex application.  I've covered this in detail in the "CHARACTER SPECIAL
TRAIT TABLE" introduction, so read that first.
Also, make sure there is a newline between each page's contents in the regex  app.
And, to emphasize, make sure you copy the FULL contents for each page, and do NOT copy the
heading text.
Once the table is copied into the regex app, run through the following transformations.

1. Add "^" to either side of each group of roll values.
REGEX:
((?:(?:[0-9]+(?:\-[0-9]+)?)|\-) (?:(?:[0-9]+(?:\-[0-9]+)?)|\-) (?:(?:[0-9]+(?:\-[0-9]+)?)|\-) (?:(?:[0-9]+(?:\-[0-9]+)?)|\-) (?:(?:[0-9]+(?:\-[0-9]+)?)|\-))
SUBSTITUTION:
\^\n$1\n\^

2. Get rid of the first number in each roll range.
REGEX:
[0-9]+\-([0-9]+)
SUBSTITUTION:
$1

3. Replace the blank roll values ("-") with 0.  Redo this regex 4 times, once for each possible
blank.  Scan the result to make sure all blanks are replaced with 0.
__Repeat this regex 4 times.__
REGEX:
\^\n([^\-\n]*)\-([^~\n]*)\n\^
substitution
\^\n${1}0${2}\n\^

4. Add commas between the roll values.
REGEX:
\^\n([0-9]+) ([0-9]+) ([0-9]+) ([0-9]+) ([0-9]+)\n\^
SUBSTITUTION:
\^\n$1,$2,$3,$4,$5\n\^

5. Remove all newlines (replacing each with a space)
note: This substitution is a single space.  I've written it as an underscore here for visibility.
REGEX:
\n
SUBSTITUTION:
_

6. Manually add a single space to the end of the content.  This lets the next regex work right.

7. Replace each " ^ " with a newline.
note: This regex contains 2 spaces, which I've written with underscores here for visibility.
REGEX:
_\^_
SUBSTITUTION:
\n

8. Manually add a blank newline at the top of the content.  This lets the next regex work right.

9. Put each entry into the needed format.
REGEX:
\n([A-Z \-\'’!,]+): ([^\n]+)\n(.+)
SUBSTITUTION:
\n\t[ "$1", $3, "$2" ],

10. Manually add an extra "1" to the end of the "NONE" entry (the second entry).  So, change this...
[ "NONE", 24,24,24,24,24, "Leave this Plot Point blank and go on to the next Plot Point, unless it would leave you with fewer than 2 Plot Points in this Turning Point, in which case re-roll." ]
Into this...
[ "NONE", 24,24,24,24,24, "Leave this Plot Point blank and go on to the next Plot Point, unless it would leave you with fewer than 2 Plot Points in this Turning Point, in which case re-roll.", 1 ]

11. Manually add an extra "2" to the end of the "META" entry (the final entry).  So, change this...
[ "META", 100,100,100,100,100, "This is a special Plot Point category with Plot Points that change the Characters List or combine Plotlines. Go to the Meta Plot Points Table and roll 1d100 on it for your Plot Point." ]
Into this...
[ "META", 100,100,100,100,100, "This is a special Plot Point category with Plot Points that change the Characters List or combine Plotlines. Go to the Meta Plot Points Table and roll 1d100 on it for your Plot Point.", 2 ]

6. Manually remove the final comma character.

The data is in its final form now.  Copy it into the note, between the line...
	window._tejs.adventurecrafter.plot = [
and the following line...
	];

***

Once all the tables are added to the shortcut-file then it is complete.

The final step is to add the shortcut-file to the __Text Expander JS__ shortcut-file list ABOVE tejs_adventurecrafter.

Once this is finished, then the adventurecrafter shortcuts should work.
